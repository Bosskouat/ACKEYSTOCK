<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Nouvelle entrée de stock - ACKEYSTOCK" />
  <title>Entrée de stock</title>
 <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<main>
  <section class="form-section">
    <h1>Nouvelle entrée de stock</h1>

    <form action="#" method="post">
      <div class="form-group">
        <label for="produit">Produit</label>
        <select id="produit" name="produit" required>
          <option value="">-- Sélectionner un produit --</option>
          <option value="produitA">Produit A</option>
          <option value="produitB">Produit B</option>
        </select>
      </div>

      <div class="form-group">
        <label for="quantite">Quantité</label>
        <input type="number" id="quantite" name="quantite" required />
      </div>

      <div class="form-group">
        <label for="fournisseur">Fournisseur</label>
        <select id="fournisseur" name="fournisseur" required>
          <option value="">-- Sélectionner un fournisseur --</option>
          <option value="fournisseurA">Fournisseur A</option>
          <option value="fournisseurB">Fournisseur B</option>
        </select>
      </div>

      <div class="form-group">
        <label for="date">Date d’entrée</label>
        <input type="date" id="date" name="date" required />
      </div>

      <div class="form-group">
        <button type="submit">Valider l’entrée</button>
      </div>
    </form>
  </section>

  <section class="table-section">
    <h1>Entrées en Stock</h1>
    
    {% if message is defined and message is not null %}
        <div class="alert alert-{{ message.type }}">
            {{ message.text }}
        </div>
    {% endif %}

    <div class="actions">
        <a href="index.php?uri=ajouter-entree-stock" class="btn-primary">+ Ajouter une entrée</a>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Produit</th>
                <th>Fournisseur</th>
                <th>Quantité</th>
                <th>Date d'entrée</th>
            </tr>
        </thead>
        <tbody>
            {% if entrees is empty %}
                <tr>
                    <td colspan="4" class="text-center">Aucune entrée en stock enregistrée</td>
                </tr>
            {% else %}
                {% for entree in entrees %}
                    <tr>
                        <td>{{ entree.produit_nom }}</td>
                        <td>{{ entree.fournisseur_nom }}</td>
                        <td>{{ entree.quantite }}</td>
                        <td>{{ entree.date_entree|date('d/m/Y') }}</td>
                    </tr>
                {% endfor %}
            {% endif %}
        </tbody>
    </table>
  </section>
</main>

</body>
</html>
